---
title: "como começar a usar R"
author: "Sara Mortara & Andrea Sánchez-Tapia <br> ¡liibre!"
date: "14.nov.2020"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9'
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

```{r xaringanthemer, include = FALSE}
library(xaringanthemer)
library(xaringanExtra)
xaringanthemer::style_mono_accent(
  base_color = "#A70000",
  #  primary_color = "#A70000",
  #secondary_color = "#ff0000",
  white_color = "white",
  colors = c(
    red = "#A70000",
    purple = "#88398a",
    orange = "#ff8811",
    green = "#136f63",
    blue = "#4B4FFF",
    white = "#FFFFFF",
    black = "#181818"
  ),
  header_font_google = google_font("Roboto Condensed"),
  text_font_google   = google_font("Roboto Condensed", "300", "300i"),
  code_font_google   = google_font("Ubuntu Mono"),
  text_font_size = "30px",
  code_font_size = "30px",
  )
```

## apresentação

```{r logo-liibre, echo = FALSE}

xaringanExtra::use_logo(image_url = "https://raw.githubusercontent.com/liibre/logo/master/figures/logo_liibre.png", width = 150)
#knitr::include_graphics("https://raw.githubusercontent.com/liibre/logo/master/figures/logo_liibre.png?token=AA75IFQA34SCCZB72UL5IXK7UWDYA")
```


- __Andrea Sánchez-Tapia__ Bióloga (UNAL - Colômbia), MSc. Ecologia (UFRJ), Dra. em Botânica (ENBT-JBRJ). Usuária de R desde 2009. Ecologia quantitativa, Informática da biodiversidade, Ecologia de comunidades, Ciência de dados feminista
--

- __Sara Ribeiro Mortara__
Bióloga (ESALQ/USP), MSc. Ecologia e Conservação da Biodiversidade (UESC) e Dra. em Ecologia (USP). Usuária de R desde 2009. Modelagem estatística, Ecologia & Ciência de dados feminista
--

- __¡liibre!__ se propõe a criar um ambiente de ensino e aprendizagem de habilidades computacionais a partir de uma perspectiva de ciência de dados feminista, responsável, aberta e para todes.

---
## projetos

- pacotes [coronabr](https://liibre.github.io/coronabr/about.html) , [modleR](https://model-r.github.io/modleR/]modleR), [rocc](https://github.com/liibre/rocc), [dados](https://github.com/cienciadedatos/dados)

- curso de _Projetos de análise de dados usando R_ no Jardim Botânico do Rio de Janeiro

- [**Observatório COVID-19 BR**](https://covid19br.github.io/)

- Capítulo de RLadies+ Rio de Janeiro [**.purple[@RLadiesRio]**](https://twitter.com/RLadiesRio)


```{r logo-rladiesplus, out.width=150, fig.align ='right', echo = FALSE}
knitr::include_graphics("https://raw.githubusercontent.com/rladies/starter-kit/master/stickers/rainbow-inclusive.png")
```

---

## sobre hoje

1. conhecendo a linguagem R e fluxo de trabalho

2. introdução ao R

3. manipulação de dados

4. criando figuras básicas

---

## códigos de apoio

todos os códigos diponíveis em: 

`r icon::fa("github")` https://github.com/liibre/instituto_hub_demo


`r icon::fa("r-project")`  https://rstudio.cloud/project/1878325

---
## por que R?

- linguagem de __código aberto__, __livre__ & __sem custo__: um dos pilares da ciência aberta

--

- __baseada em scripts__: essencial para reprodutibilidade, facilidade para ampliar a escala, transparência, correção/robusteza 

--

- acessível (em comparação a outras linguagens de programação)

--

- muito comum na Biologia, Ciência de Dados e outras áreas. A escolha para quem precisa fazer analises estatísticas

--

+ __interdisciplinária e modular__: muitos especialistas escrevem pacotes 

--

+ uma filosofia de passar facilmente do uso à criação (programação)

---
## por que R?

+ ferramentas para __comunicar os resultados__: manuscritos, presentações, _apps_

--

+ comunicação com otras linguagens de programação (ex. python e __reticulate__) 

--

+ ótima capacidade gráfica 

--

+ __suporte oficial__: documentação, vignettes, listas de email

--

+ suporte não oficial: uma comunidade ativa: listas de email, grupos de usuáries (useR), capítulos de .purple[R-Ladies+], comunidade de  [RStudio](community.rstudio.com/) 
Stack Overflow, `r icon::fa("twitter")` `#rstats`

```{r remedy001, out.width=150, echo = FALSE}
knitr::include_graphics("https://raw.githubusercontent.com/rladies/starter-kit/master/stickers/rainbow-inclusive.png")
```

---
## `R` tem uma estrutura modular: __pacotes__
--

+ a instalação de base de `R` inclui pacotes mantidos pelo __`R` Core Development Team__

--

+ repositório oficial de pacotes: __CRAN__ (The Comprehensive `R` Archive Network) or Bioconductor, GitHub, rOpenSci.org


---
background-image:url("figs/rstudio.png")
background-size: 60%
## rodando R em RStudio

`r icon::fa("laptop-code", size = 3)`

---
class: inverse, middle, center
## Configuração e organização de projetos 

---
## pasta de trabalho

+ R tem que saber em que pasta você está trabalhando, para poder buscar os arquivos que você quer ler, e saber onde guardar os resultados de suas análises: __working directory__: pasta de trabalho

--

+ para saber onde você está: `getwd()`

--

+ você pode mudar esta localização usando `setwd()`

--

+ melhor ainda: em vez de abrir RStudio e procurar a pasta, é melhor abrir um script de R (extensão `.R`) ou um projeto de __RStudio project__ (extensão `.Rproj`). (Igual ao que você faria abrindo um arquivo de texto `r icon::fa("file-word")`)

---
## organização de projetos e Boas Práticas

+ cada projeto de análise de dados deveria estar em __uma pasta separada__, e __subpastas__ para organizar o conteúdo

--

+ os __dados originais__ não devem ser modificados. qualquer modificação deve ser salva à parte, junto com os scripts que fizeram a modificação.

--

+ em vez de usar __caminhos absolutos__ deve-se usar __caminhos relativos__:
  + `.` "aqui" (o resultado de `getwd()`)
  + `./subpastas` (ex. `/figs`)
  + o nível acima `..`
  
--

+ evite `C:usuario/seu_nome/suas_pastas/seu_projeto` -> isto são caminhos absolutos

---
## o projeto atual

```
  .
  ├── README.md
  ├── codigo
  │   ├── 01-intro.R
  │   ├── 02-fluxo_trabalho.R
  │   ├── 03-manipulacao_dados.R
  │   └── 04-graficos.R
* ├── figuras
* ├── resultados
  └── instituto_hub_demo.Rproj
```

<center>
`r icon::fa("laptop-code", size = 3)`
</center>

---
## os projetos de RStudio

+ arquivos com extensão __.Rproj__ para abrir a sessão de R no local correto

---
class: inverse, middle, center

## Introdução a R

---
## Introdução a R

+ `<-` - para atribuição a objetos

--

+ cria dentro do espaço de trabalho "__workspace__", aba __Environment__ de RStudio

--

+ pode explorar com `ls()`

---
## o _workspace_

+ quando você cria objetos eles ocupam memória RAM do computador

--

+ ele pode ser salvo e carregado entre sessões mas não é recomendável fazer isto `#boaspráticas`

--

+ você pode perder controle de como foram criados os objetos - pode guardar objetos com erros

--

+ vamos confiar no __script__

--

+ um script lê ou cria objetos e salva tabelas `.csv`, figuras (`.png`) ou objetos individuais de `R`

--

+ é bom criar diferentes scripts sucessivos para manter a ordem

---
background-image:url("figs/0a_setup.png")
background-size: 60%
background-position: 60% 100%

.pull-left[
#### nas opções gerais
]

---
class: inverse, middle, center
# funções, argumentos e entendendo a ajuda

---
# Vamos começar 

```{r, eval = F}
# Para instalar pacotes
install.packages("remotes")

# Para instalar coronabr
remotes::install_github("liibre/coronabr")

# Para carregar coronabr
library(coronabr)

```

---
## Procurando ajuda em R

---
## Outras fontes de ajuda

+ Taskviews 

[https://cran.r-project.org/web/views/](https://cran.r-project.org/web/views/)


---

# Obrigada!

<center>
`r icon::fa("paper-plane")` [andreasancheztapia@gmail.com](mailto:andreasancheztapia@gmail.com) [saramortara@gmail.com](mailto:saramortara@gmail.com) 

`r icon::fa("twitter")` [@SanchezTapiaA](https://twitter.com/SanchezTapiaA)  [@MortaraSara](https://twitter.com/MortaraSara) 

`r icon::fa("github")` `r icon::fa("gitlab")` [¡liibre!](http://github.com/liibre)  
